services:
  nginx-ingress:
    image: nginx
    restart: unless-stopped
    networks:
      - nginx-ingress
    ports:
      - ${INBOUND_HTTPS_PORT:-443}:443/tcp
    volumes:
      - hive_letsencrypt:/etc/letsencrypt:ro
      - hive_static_webroot:/usr/share/nginx/html:ro
      - ./templates:/etc/nginx/templates:ro
    environment:
      - DEFAULT_HOSTNAME
      - SERVICE_HOSTNAME
    profiles:
      - bono

networks:
  nginx-ingress:

volumes:
  hive_static_webroot:
    external: true
